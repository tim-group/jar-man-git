apply plugin: 'groovy'
apply plugin: 'maven'

group = 'com.timgroup'
version = '1.0.' + System.getenv('BUILD_NUMBER')

repositories {
    mavenLocal()
    maven {
        url "${repoUrl}/groups/public"
    }
}

dependencies {
    compile gradleApi()
    compile localGroovy()
    compile group: 'org.eclipse.jgit', name: 'org.eclipse.jgit', version: '4.5.0.201609210915-r'
    compile group: 'org.apache.maven', name: 'maven-model', version: '2.2.1'

    testCompile group: 'junit', name: 'junit', version: '4.12'
}

uploadArchives {
    repositories {
        mavenDeployer {
            repository(url: "${repoUrl}/repositories/yd-release-candidates") {
                authentication(userName: project.repoUsername, password: project.repoPassword)
            }
        }
    }
}
